<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Posts - apcj@f5 technical blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.6719d72e323121369d5caeb4264b95d8a63cf1deaab029da67602fe5a046e0a4.css">
  

  

</head>

<body class='page page-default-list'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-posts">
      <a href="/posts/">
        <span>Posts</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="/"><img alt="Logo" src="/images/f5labs.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="/"><img alt="Logo" src="/images/f5labs.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-posts">
      <a href="/posts/">
        <span>Posts</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Posts</h4>
  <ul>
    
    <li class="">
      <a href="/posts/ephemeral-kubernetes-lab-with-iac-and-gitops/">Ephemeral Kubernetes Lab with IaC and GitOps</a>
    </li>
    
    <li class="">
      <a href="/posts/kubernetes/sql-server-kubernetes-2/">SQL Server on Kubernetes - Part 2</a>
    </li>
    
    <li class="">
      <a href="/posts/learning-istio/jwt-auth/">Learning Istio | JWT Auth</a>
    </li>
    
    <li class="">
      <a href="/posts/kubernetes/sql-server-kubernetes/">SQL Server on Kubernetes - Part 1</a>
    </li>
    
    <li class="">
      <a href="/posts/learning-istio/securing-egress-traffic-with-mtls/">Learning Istio | Securing Egress Traffic With mTLS</a>
    </li>
    
    <li class="">
      <a href="/posts/automation/terraform-maps/">Terraform Maps</a>
    </li>
    
    <li class="">
      <a href="/posts/learning-istio/why-isnt-service-entry-namespaced/">Learning Istio | Why Isn&#39;t Service Entry Namespaced!?</a>
    </li>
    
    <li class="">
      <a href="/posts/learning-istio/accessing-external-tcp-services-using-serviceentry/">Learning Istio | Accessing external TCP services using ServiceEntry</a>
    </li>
    
    <li class="">
      <a href="/posts/development/nginx-unit/">NGINX Unit</a>
    </li>
    
    <li class="">
      <a href="/posts/learning-istio/ingress/">Learning Istio | Ingress</a>
    </li>
    
    <li class="">
      <a href="/posts/learning-istio/setup/">Learning Istio | Setup</a>
    </li>
    
    <li class="">
      <a href="/posts/from-lb-to-cloud-native-application-services/">From load balancing to cloud native application services</a>
    </li>
    
    <li class="">
      <a href="/posts/eli5-kubernetes-custom-resources/">ELI5: Kubernetes Custom Resources</a>
    </li>
    
    <li class="">
      <a href="/posts/kubernetes/smallest-container-ever/">Small Containers for fun </a>
    </li>
    
    <li class="">
      <a href="/posts/learning-terraform-s3-backend/">Learning Terraform S3 Backend</a>
    </li>
    
    <li class="">
      <a href="/posts/istio-ingressgateay-port-relationship/">The rule of Istio Gateway port definition</a>
    </li>
    
    <li class="">
      <a href="/posts/f5-envoy-cloud-native/">How an application delivery veteran see Envoy in the era of cloud native</a>
    </li>
    
    <li class="">
      <a href="/posts/istio-traffic-control-deepdive/">Istio sidecar iptables and traffic steering detail</a>
    </li>
    
    <li class="">
      <a href="/posts/f5-istio-work-together/">F5 BIG-IP links Istio to enhance ingress service capabilities</a>
    </li>
    
    <li class="">
      <a href="/posts/nginx-oauth2-oidc-series/">NGINX and oAuth2/OIDC series one</a>
    </li>
    
  </ul>
</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          

<span class="overview">Overview</span>
<h1 class="title">Posts</h1>
<div class="content">
  
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/ephemeral-kubernetes-lab-with-iac-and-gitops/">Ephemeral Kubernetes Lab with IaC and GitOps</a></h2>
  <p>I&rsquo;ve been thinking of moving my Kubernetes lab into the cloud, but with cloud resource usage being scrutinized by the IT department, running them 24x7 the way I&rsquo;m used to is a no-go. I need a setup that meets the following requirements:
 Simple to create and tear down Applications must be pre-deployed when the cluster is up, as close to &ldquo;just the way I left it there last night&rdquo; as possible cost $0 when the setup has been switched off  I eventually settled on the idea of an ephemeral Kubernetes lab environment using Infrastructure as Code (IaC) and GitOps practices, which I will cover in this post.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/kubernetes/sql-server-kubernetes-2/">SQL Server on Kubernetes - Part 2</a></h2>
  <p>Intro So in my last post I showed how you could create databases on Kubernetes. There are many reasons to do this. Equally, there are reasons not to do this, but for highly distributed deployments it does make sense.
This post is going to focus on the storage components of running a database on Kubernetes.
Why do I need persistent storage Persistent storage as the name implies allows you to store your data between container restarts.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/learning-istio/jwt-auth/">Learning Istio | JWT Auth</a></h2>
  <p>In this post, we will be looking at how Istio handles end user authentication/authorization based on JSON Web Tokens (JWT). JWT is commonly used in OAuth2.0 flows to specify the resources a client has access to, but there are a couple of things to verify before the client is given access:
 Is the JWT issued by the right party Is the client who they claim to be  The logic for the checks above are usually coded into the application.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/kubernetes/sql-server-kubernetes/">SQL Server on Kubernetes - Part 1</a></h2>
  <p>Intro Recently, I&rsquo;ve been working with a customer who wants to provide databases on their Kubernetes cluster. Ever since Microsoft&rsquo;s SQL Server was released on Linux some years ago, I&rsquo;ve been fascinated with it. I decided to give it a go recently on Kubernetes, and get it all working.
This is part one, where I deploy SQL server without persistent storage. In part two, I will discuss using persistent storage.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/learning-istio/securing-egress-traffic-with-mtls/">Learning Istio | Securing Egress Traffic With mTLS</a></h2>
  <p>There are times when applications deployed in Kubernetes need to communicate with external services that requires mTLS authentication, where the applications have to present client certificates signed by a common root/intermediate CA when accessing the service. This can lead to unpleasant scenarios where
 application owners have to keep track of certificates for each of their applications applications written in different language/libraries have different ways of implementing mTLS connections  As an application owner, I would prefer to just deal with plain ol' HTTP on port 80, and not have to modify the application to handle HTTPS or mTLS.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/automation/terraform-maps/">Terraform Maps</a></h2>
  <p>Intro I&rsquo;ve been doing a lot with terraform lately, and I&rsquo;ve been looking for ways to make my terraform configurations a lot simpler and have less repetition. Like a lot of people, I&rsquo;ve found myself repeating the same code over and over. An example is where I repeat the same resource over and over but with different configuration parameters. It&rsquo;s essentially the same resource. Why should I do this? There has to be a better way.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/learning-istio/why-isnt-service-entry-namespaced/">Learning Istio | Why Isn&#39;t Service Entry Namespaced!?</a></h2>
  <p>I got a question on how we can restrict access to certain external endpoints on a per namespace basis. There was an idea to use Istio&rsquo;s egress gateway to control access to external endpoints, though I&rsquo;m not convinced that&rsquo;s a valid use case for an egress gateway today. So I went off to do some investigation, and found some options:
 Specifying which namespaces can access certain hosts defined in the ServiceEntry Specifying which endpoints can be accessed from a namespace  But before that, a bit of back story of how we got here&hellip;</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/learning-istio/accessing-external-tcp-services-using-serviceentry/">Learning Istio | Accessing external TCP services using ServiceEntry</a></h2>
  <p>In this post, we will be testing Istio&rsquo;s ServiceEntry by accessing a PostgreDB database hosted externally from the Kubernetes cluster.
Setup &ldquo;External&rdquo; PostgresDB service Since we are running the Kubernetes cluster locally in Docker containers using k3d, we can create an &ldquo;external&rdquo; service by running a PostgresDB Docker container on the same host and expose its ports to localhost.
Create a local PostgresDB container database using Docker
docker run --name postgres --restart always -e POSTGRES_PASSWORD=password -d -p 5432:5432 postgres Create a test database app_db</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/development/nginx-unit/">NGINX Unit</a></h2>
  <p>Intro I recently discovered NGINX Unit - now there&rsquo;s a disclaimer here as well - I work for the company that produces this software. I do think that it&rsquo;s a very very cool piece of open source software, so it generally suits my ethos:
 Open Source Super cool software Extensible Makes my life as a developer easier  It pretty much ticks all the boxes.
What is it? This one is a little harder to answer.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/learning-istio/ingress/">Learning Istio | Ingress</a></h2>
  <p>In the previous post, we deployed the Bookinfo application on a k3s cluster with Istio enabled. In this post, we will explore the features on Istio Ingress.
Kubernetes Ingress Istio should handle Kubernetes Ingress resource just fine as documented here.
Here we create a Kubernetes Ingress to access the Bookinfo application. Note the additional annotation kubernetes.io/ingress.class: istio:
kubectl -n bookinfo apply -f - &lt;&lt;EOF apiVersion: networking.k8s.io/v1 kind: Ingress metadata: annotations: kubernetes.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/learning-istio/setup/">Learning Istio | Setup</a></h2>
  <p>In this series, we will be testing out several features in Istio with a local Kubernetes (k3s) cluster.
Deploy k3s cluster First step is to deploy the k8s cluster with k3d - a wrapper to run k3s in docker. Start by creating a k3d config file:
# k3d-istio.yamlapiVersion:k3d.io/v1alpha2kind:Simplename:istioservers:1agents:2ports:# for exposing Istio ingress on localhost- port:8080:80nodeFilters:- loadbalancer- port:8443:443nodeFilters:- loadbalanceroptions:k3s:extraServerArgs:- --no-deploy=traefik # we will be using Istio ingress insteadDeploy the cluster with k3d</p>
</div>


<div class="summary mb-2">
  
  <img alt="From load balancing to cloud native application services" src="#ZgotmplZ" />
  
  <h2 class="title-summary"><a href="/posts/from-lb-to-cloud-native-application-services/">From load balancing to cloud native application services</a></h2>
  <p>The history of ADC, the future of Service Proxy, how do you understand the importance of ADC/Service Proxy in your infrastructure.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/eli5-kubernetes-custom-resources/">ELI5: Kubernetes Custom Resources</a></h2>
  <p>In this article, I will be using the process of building a house as an example to explain how Kubernetes Custom Resources work.
 Imagine building a custom home, which is a highly detailed and laborious work, that you decided to just hire a home builder. The builder gives you a form to fill out details such as:
 how many rooms do you need and what size should they be?</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/kubernetes/smallest-container-ever/">Small Containers for fun </a></h2>
  <p>Intro I have a side hobby where I try to create minimal container images. There are a number of reasons for this, but the primary one is because I&rsquo;m a complete geek.
Other reasons include:
 It&rsquo;s a neatness thing There&rsquo;s an engineering imperative in me to be minimalist I don&rsquo;t like waste The process of creation helps me understand the technology a little better Smaller images are great for testing at scale  Why The why I do this is mainly because it&rsquo;s a hobby, but in this case, I started the ultra minimal container image build because someone I work with wanted to build a container for testing Istio latency at scale.</p>
</div>


<div class="summary mb-2">
  
  <h2 class="title-summary"><a href="/posts/learning-terraform-s3-backend/">Learning Terraform S3 Backend</a></h2>
  <p>I have had basic experience playing with Terraform to instantiate resources in Kubernetes and AWS, but my previous attempts left me with a thought, how do I implement this at work and scale it up to the team?
Terraform creates a local state file which seems like a pain to share around a team. This is when I found out about remote backends. And this is my attempt to learn Terraform S3 backend.</p>
</div>


<div class="summary mb-2">
  
  <img alt="The rule of Istio Gateway port definition" src="#ZgotmplZ" />
  
  <h2 class="title-summary"><a href="/posts/istio-ingressgateay-port-relationship/">The rule of Istio Gateway port definition</a></h2>
  <p>Dont set wrong port in Gateway.</p>
</div>


<div class="summary mb-2">
  
  <img alt="How an application delivery veteran see Envoy in the era of cloud native" src="#ZgotmplZ" />
  
  <h2 class="title-summary"><a href="/posts/f5-envoy-cloud-native/">How an application delivery veteran see Envoy in the era of cloud native</a></h2>
  <p>How to understand envoy, compare to F5/NGINX.</p>
</div>


<div class="summary mb-2">
  
  <img alt="Istio sidecar iptables and traffic steering detail" src="#ZgotmplZ" />
  
  <h2 class="title-summary"><a href="/posts/istio-traffic-control-deepdive/">Istio sidecar iptables and traffic steering detail</a></h2>
  <p>How istio manipulates the traffic.</p>
</div>


<div class="summary mb-2">
  
  <img alt="F5 BIG-IP links Istio to enhance ingress service capabilities" src="#ZgotmplZ" />
  
  <h2 class="title-summary"><a href="/posts/f5-istio-work-together/">F5 BIG-IP links Istio to enhance ingress service capabilities</a></h2>
  <p>F5 make istio works better</p>
</div>


<div class="summary mb-2">
  
  <img alt="NGINX and oAuth2/OIDC series one" src="#ZgotmplZ" />
  
  <h2 class="title-summary"><a href="/posts/nginx-oauth2-oidc-series/">NGINX and oAuth2/OIDC series one</a></h2>
  <p>NGINX as different role in oAuth/OIDC</p>
</div>




        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://www.zerostatic.io">www.zerostatic.io</a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.eaf147370baecdd07c022597db631f99cab1c9cd6479de586f30327a568d6a0f.js"></script>
  

  
  
  
    
  


</body>

</html>
